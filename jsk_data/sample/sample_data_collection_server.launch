<launch>

  <node name="publish_string"
        pkg="rostopic" type="rostopic"
        args="pub /sample_topic std_msgs/String 'sample' -r 10" />

  <rosparam>
    sample_string: spam
  </rosparam>

  <node name="data_collection_server_request"
        pkg="jsk_data" type="data_collection_server.py">
    <rosparam>
      message_filters: false
      save_dir: ~/.ros/jsk_data/sample/request
      topics:
        - name: /sample_topic
          fname: sample_topic.yaml
          savetype: YAML
          msg_class: std_msgs/String
      params:
        - key: /sample_string
          fname: sample_string.txt
          savetype: Text
    </rosparam>
  </node>

  <node name="data_collection_server_timer"
        pkg="jsk_data" type="data_collection_server.py">
    <rosparam>
      message_filters: false
      method: timer
      save_dir: ~/.ros/jsk_data/sample/timer
      topics:
        - name: /sample_topic
          fname: sample_topic.yaml
          savetype: YAML
          msg_class: std_msgs/String
      params:
        - key: /sample_string
          fname: sample_string.txt
          savetype: Text
    </rosparam>
  </node>

  <node name="rqt_service_caller"
        pkg="rqt_gui" type="rqt_gui"
        args="--perspective-file $(find jsk_data)/sample/config/sample_data_collection_server.perspective">
  </node>

</launch>
